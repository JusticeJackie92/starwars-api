{"ast":null,"code":"var _jsxFileName = \"/Users/justiceirivwieri/Downloads/star-wars-characters-main/src/components/characterList/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getMoreCharacters } from \"../../actions/charactersActions\";\nimport { fetchFilms } from \"../../actions/filmsActions\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\nimport Character from \"../character\";\nimport { Spinner } from \"../spinner\";\nimport { Button, Container, FilterResetButton, Form, Input } from \"./style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CharacterList = () => {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const characters = useAppSelector(state => state.characters);\n  const films = useAppSelector(state => state.films);\n  const numberOfCharactersFetched = 10;\n  const numberOfCharactersFetchedOnStart = 10;\n  const [name, setName] = useState(\"\");\n  const [filteredCharacters, setFilteredCharacters] = useState([]);\n  useEffect(() => {\n    dispatch(fetchFilms());\n    dispatch(getMoreCharacters(numberOfCharactersFetchedOnStart));\n  }, [dispatch]);\n\n  const getMore = numberOfCharacters => {\n    dispatch(getMoreCharacters(numberOfCharacters));\n  };\n\n  const onNameChange = e => {\n    setName(e.target.value);\n  };\n\n  useEffect(() => {\n    if (name.length) {\n      const charFiltered = characters.charactersSelected.filter(character => character.name.toLowerCase().includes(name.toLowerCase()));\n      setFilteredCharacters(charFiltered);\n    } else {\n      setFilteredCharacters(characters.charactersSelected);\n    }\n  }, [name, characters]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    loading: characters.loading,\n    children: [filteredCharacters && films.films.length && !characters.loading ? /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        placeholder: \"Filter by name\",\n        value: name,\n        onChange: onNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FilterResetButton, {\n        onClick: e => {\n          e.preventDefault();\n          setName(\"\");\n        },\n        children: \"Reset filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : null, filteredCharacters && films.films.length ? filteredCharacters.map(character => {\n      return /*#__PURE__*/_jsxDEV(Character, {\n        name: character.name,\n        gender: character.gender,\n        birthYear: character.birth_year,\n        height: character.height,\n        mass: character.mass,\n        films: character.films\n      }, character.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this);\n    }) : /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), !filteredCharacters.length && films.films.length && !characters.loading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"No characters found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this) : null, filteredCharacters && !characters.allCharactersFetched && films.films.length && !name.length ? /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => getMore(numberOfCharactersFetched),\n      children: \"Load more characters\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CharacterList, \"8uEQKcZlvTt45xeqvEkuq4Vjd1w=\", false, function () {\n  return [useAppDispatch, useAppSelector, useAppSelector];\n});\n\n_c = CharacterList;\nexport default CharacterList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CharacterList\");","map":{"version":3,"sources":["/Users/justiceirivwieri/Downloads/star-wars-characters-main/src/components/characterList/index.tsx"],"names":["useEffect","useState","getMoreCharacters","fetchFilms","useAppDispatch","useAppSelector","Character","Spinner","Button","Container","FilterResetButton","Form","Input","CharacterList","dispatch","characters","state","films","numberOfCharactersFetched","numberOfCharactersFetchedOnStart","name","setName","filteredCharacters","setFilteredCharacters","getMore","numberOfCharacters","onNameChange","e","target","value","length","charFiltered","charactersSelected","filter","character","toLowerCase","includes","loading","preventDefault","map","gender","birth_year","height","mass","allCharactersFetched"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getMoreCharacters } from \"../../actions/charactersActions\";\nimport { fetchFilms } from \"../../actions/filmsActions\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\nimport { CharacterType } from \"../../types\";\nimport Character from \"../character\";\nimport { Spinner } from \"../spinner\";\nimport { Button, Container, FilterResetButton, Form, Input } from \"./style\";\n\nconst CharacterList: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const characters = useAppSelector((state) => state.characters);\n  const films = useAppSelector((state) => state.films);\n  const numberOfCharactersFetched = 10;\n  const numberOfCharactersFetchedOnStart = 10;\n\n  const [name, setName] = useState(\"\");\n  const [filteredCharacters, setFilteredCharacters] = useState<CharacterType[]>(\n    []\n  );\n\n  useEffect(() => {\n    dispatch(fetchFilms());\n    dispatch(getMoreCharacters(numberOfCharactersFetchedOnStart));\n  }, [dispatch]);\n\n  const getMore = (numberOfCharacters: number) => {\n    dispatch(getMoreCharacters(numberOfCharacters));\n  };\n\n  const onNameChange = (e: any) => {\n    setName(e.target.value);\n  };\n\n  useEffect(() => {\n    if (name.length) {\n      const charFiltered = characters.charactersSelected.filter((character) =>\n        character.name.toLowerCase().includes(name.toLowerCase())\n      );\n      setFilteredCharacters(charFiltered);\n    } else {\n      setFilteredCharacters(characters.charactersSelected);\n    }\n  }, [name, characters]);\n\n  return (\n    <Container loading={characters.loading}>\n      {filteredCharacters && films.films.length && !characters.loading ? (\n        <Form>\n          <Input\n            type=\"text\"\n            placeholder=\"Filter by name\"\n            value={name}\n            onChange={onNameChange}\n          ></Input>\n\n          <FilterResetButton\n            onClick={(e) => {\n              e.preventDefault();\n              setName(\"\");\n            }}\n          >\n            Reset filter\n          </FilterResetButton>\n        </Form>\n      ) : null}\n\n      {filteredCharacters && films.films.length ? (\n        filteredCharacters.map((character) => {\n          return (\n            <Character\n            \n              key={character.name}\n              name={character.name}\n              gender={character.gender}\n              birthYear={character.birth_year}\n              height={character.height}\n              mass={character.mass}\n              films={character.films}\n            />\n          );\n        })\n      ) : (\n        <Spinner />\n      )}\n\n      {!filteredCharacters.length &&\n      films.films.length &&\n      !characters.loading ? (\n        <h2>No characters found.</h2>\n      ) : null}\n\n      {filteredCharacters &&\n      !characters.allCharactersFetched &&\n      films.films.length &&\n      !name.length ? (\n        <Button onClick={() => getMore(numberOfCharactersFetched)}>\n          Load more characters\n        </Button>\n      ) : null}\n    </Container>\n  );\n};\n\nexport default CharacterList;\n"]},"metadata":{},"sourceType":"module"}